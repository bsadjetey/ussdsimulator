<div class="container-fullscreen bg-white rounded shadow-sm ussd-container">

  <!-- Body -->
  <div class="ussd-body flex-grow-1 d-flex justify-content-center align-items-center text-center w-100 px-3">
    <div *ngIf="loading" class="loader">
      <div class="spinner-border text-primary" role="status"></div>
    </div>

    <div *ngIf="ussdContent && !loading" class="ussd-content w-100">
      <pre>{{ ussdContent }}</pre>
    </div>

    <div *ngIf="!showInput && !ussdContent && !loading" id="start-section">
      <button class="btn btn-primary btn-lg" (click)="startSession()">Start USSD</button>
    </div>
  </div>

  <!-- Footer input controls -->
  <div class="ussd-footer bg-white border-top p-2 w-100" *ngIf="showInput">
    <form [formGroup]="ussdForm" class="d-flex w-100 gap-2 mb-0">
      <input #inputField type="text" formControlName="inputText" class="form-control" placeholder="Enter option..." autocomplete="off">
      <button type="button" class="btn btn-primary" (click)="submitInput()">
        <i class="bi bi-send"></i>
      </button>
      <button type="button" class="btn btn-outline-secondary" (click)="cancelSession()">Cancel</button>
    </form>
  </div>

  <!-- Footer for END message -->
  <div class="ussd-footer bg-white border-top p-3 text-center w-100" *ngIf="showEnd">
    <button class="btn btn-secondary w-50" (click)="cancelSession()">Dismiss</button>
  </div>
</div>
